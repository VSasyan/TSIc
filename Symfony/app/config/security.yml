# To get started with security, check out the documentation:
# http://symfony.com/doc/current/book/security.html
security:

    encoders:
        AppBundle\Entity\Particulier:
            algorithm: bcrypt

    role_hierarchy:
        ROLE_PROFESSIONNAL:   ROLE_USER
        ROLE_ADMIN:           ROLE_PROFESSIONNAL

    providers:
        our_provider:
            id: particulier.username

    firewalls:
        dev:
            pattern: ^/(_(profiler|wdt)|css|images|js)/
            security: false

        main:
            pattern: ^/
            form_login:
                provider: our_provider
                #csrf_token_generator: security.csrf.token_manager
            logout:       true
            anonymous:    true

    access_control:
        - { path: ^/$, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/login$, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/register, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/resetting, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/perturbation, role: IS_AUTHENTICATED_ANONYMOUSLY }

#        
#
 #   providers:
#         our_db_provider:
#            entity:
#                class: AppBundle:Particulier
#
#    firewalls:
#        dev:
#            pattern: ^/(_(profiler|wdt)|css|images|js)/
#            security: false
#
#        accueil:
#            pattern: ^/$
#            anonymous: true 
#            provider: our_db_provider#
#
#        register:
#            pattern:  ^/(register|login|js)$
#            anonymous: true 
#            http_basic: ~
#            provider: our_db_provider

       # logout: true 
        #logout:
            #path : logout

#        main:   
#            pattern:   ^/
#            anonymous: true
#            http_basic: ~
#            provider: our_db_provider
#        dev:
#           pattern: ^/(_(profiler|wdt)|css|images|js)/
#           security: false